{
"provisioners": [
{
  "type": "file",
  "source": "/opt/ansible-template/cloud-config.yml",
  "destination": "/tmp/cloud-config.yml"
},
{
  "type": "shell",
  "inline": ["sudo ros install -c /tmp/cloud-config.yml -d /dev/vda -f -t generic --no-reboot"]
}],
"builders": [{
      "name": "rancheros.qcow2",
      "type": "qemu",
      "iso_checksum_type": "sha256",
      "iso_checksum": "578435ac2631261e8b28843faf87eac48076c1b020ccc547ed8eaf8fb96e996f",
      "iso_url": "https://github.com/rancher/os/releases/download/v0.4.5/rancheros.iso",
      "output_directory": "/build/output",
      "ssh_wait_timeout": "30s",
      "shutdown_command": "sudo poweroff",
      "disk_size": 8192,
      "format": "qcow2",
      "headless": true,
      "accelerator": "kvm",
      "ssh_host_port_min": 2222,
      "ssh_host_port_max": 2229,
      "ssh_username": "rancher",
      "ssh_password": "rancher",
      "ssh_port": 22,
      "ssh_wait_timeout": "90m",
      "net_device": "virtio-net",
      "disk_interface": "virtio",
      "vnc_port_min": 5900,
      "vnc_port_max": 5900,
      "qemu_binary": "/usr/libexec/qemu-kvm",
      "qemuargs": [
          [ "-m", "1024M" ]
        ]
    }]
}
